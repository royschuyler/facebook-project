'use strict';

angular.module('angularAddresses').controller('EditPersonCtrl', function ($scope, $routeParams, $location, Person) {
  var vm = this;
  vm.id = $routeParams.id;

  vm.onModalLoad = function () {
    $('#modal').modal('show');

    $('#modal').on('hidden.bs.modal', function (e) {
      $location.path('/people/' + vm.id);
      $scope.$apply();
    });
  };

  vm.saveAddress = function () {
    Person.update(vm.id, vm.person, function () {
      $('#modal').modal('hide');
    });
  };

  Person.getOne(vm.id, function (person) {
    vm.person = person;
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hc3NldHMvcGVvcGxlL2VkaXQuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE9BQU8sQ0FDSixNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FFMUIsVUFBVSxDQUFDLGdCQUFnQixFQUFFLFVBQVUsTUFBTSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFO0FBQy9FLE1BQUksRUFBRSxHQUFHLElBQUksQ0FBQztBQUNkLElBQUUsQ0FBQyxFQUFFLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQzs7QUFFeEIsSUFBRSxDQUFDLFdBQVcsR0FBRyxZQUFZO0FBQzNCLEtBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRTFCLEtBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsVUFBVSxDQUFDLEVBQUU7QUFDN0MsZUFBUyxDQUFDLElBQUksY0FBWSxFQUFFLENBQUMsRUFBRSxDQUFHLENBQUM7QUFDbkMsWUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ2pCLENBQUMsQ0FBQztHQUNKLENBQUM7O0FBRUYsSUFBRSxDQUFDLFdBQVcsR0FBRyxZQUFZO0FBQzNCLFVBQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFlBQVk7QUFDMUMsT0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUMzQixDQUFDLENBQUM7R0FDSixDQUFDOztBQUVGLFFBQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLE1BQU0sRUFBRTtBQUNyQyxNQUFFLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztHQUNwQixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoic3JjL2Fzc2V0cy9wZW9wbGUvZWRpdC5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAubW9kdWxlKCdhbmd1bGFyQWRkcmVzc2VzJylcblxuICAuY29udHJvbGxlcignRWRpdFBlcnNvbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgUGVyc29uKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5pZCA9ICRyb3V0ZVBhcmFtcy5pZDtcblxuICAgIHZtLm9uTW9kYWxMb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgJCgnI21vZGFsJykubW9kYWwoJ3Nob3cnKTtcblxuICAgICAgJCgnI21vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKGAvcGVvcGxlLyR7dm0uaWR9YCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2bS5zYXZlQWRkcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIFBlcnNvbi51cGRhdGUodm0uaWQsIHZtLnBlcnNvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCcjbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIFBlcnNvbi5nZXRPbmUodm0uaWQsIGZ1bmN0aW9uIChwZXJzb24pIHtcbiAgICAgIHZtLnBlcnNvbiA9IHBlcnNvbjtcbiAgICB9KTtcbiAgfSk7XG4iXX0=
